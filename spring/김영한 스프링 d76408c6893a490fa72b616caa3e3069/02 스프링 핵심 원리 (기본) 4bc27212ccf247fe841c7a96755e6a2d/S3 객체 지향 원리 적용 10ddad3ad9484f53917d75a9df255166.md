# S3 객체 지향 원리 적용

---

---

# 3. 관심사의 분리

![Untitled](S3%20%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%20%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%20%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%85%E1%85%B5%20%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%AD%E1%86%BC%2010ddad3ad9484f53917d75a9df255166/Untitled.png)

impl이 인터페이스만 지정하면 되지, 구현체(클래스)를 지정할 필요가 없다

구현체 지정은 별도의 기능을 수행하는 Config를 필요로 함

→ 구현 객체를 생성하고 연결하는 책임을 가지는 설정 클래스

![Untitled](S3%20%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%20%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%20%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%85%E1%85%B5%20%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%AD%E1%86%BC%2010ddad3ad9484f53917d75a9df255166/Untitled%201.png)

생성자 주입 DI

![Untitled](S3%20%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%20%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%20%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%85%E1%85%B5%20%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%AD%E1%86%BC%2010ddad3ad9484f53917d75a9df255166/Untitled%202.png)

![Untitled](S3%20%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%20%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%20%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%85%E1%85%B5%20%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%AD%E1%86%BC%2010ddad3ad9484f53917d75a9df255166/Untitled%203.png)

객체의 생성과 연결을 Config에서 진행

![Untitled](S3%20%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%20%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%20%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%85%E1%85%B5%20%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%AD%E1%86%BC%2010ddad3ad9484f53917d75a9df255166/Untitled%204.png)

![Untitled](S3%20%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%20%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%20%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%85%E1%85%B5%20%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%AD%E1%86%BC%2010ddad3ad9484f53917d75a9df255166/Untitled%205.png)

![Untitled](S3%20%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%20%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%20%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%85%E1%85%B5%20%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%AD%E1%86%BC%2010ddad3ad9484f53917d75a9df255166/Untitled%206.png)

설계에 대한 정보가 Config에 그대로 드러나도록 구현해야 함

중복이 제거될 수 있음

역할과 구현 클래스가 한눈에 들어옴 → 어플리케이션 전체 구성을 쉽게 파악할 수 있음

![Untitled](S3%20%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%20%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%20%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%85%E1%85%B5%20%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%AD%E1%86%BC%2010ddad3ad9484f53917d75a9df255166/Untitled%207.png)

![Untitled](S3%20%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%20%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%20%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%85%E1%85%B5%20%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%AD%E1%86%BC%2010ddad3ad9484f53917d75a9df255166/Untitled%208.png)

→ 정책이 바뀐다면 사용 영역의 코드 변경(생성 제외) 없이 구성 영역의 코드만을 바꿈으로써 쉽게 정책(기능)을 변경할 수 있음

![Untitled](S3%20%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%20%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%20%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%85%E1%85%B5%20%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%AD%E1%86%BC%2010ddad3ad9484f53917d75a9df255166/Untitled%209.png)

구성 영역은 모든 기능에 대해서 알고 있음

기능을 바꿀 때는 구성 영역만 바꾸면 됨

SRP : 한 클래스는 하나의 책임만 가져야 함

클라이언트 객체는 실행하는 책임만을 담당

구현 객체 생성하고 연결하는 책임은 AppConfig가 담당

DIP : 추상화에 의존해야 함

의존성 주입을 통해서 이를 실현함

DI를 통해서 클라이언트 코드를 수정할 필요가 없어짐

OCP : 확장에는 열려 있으나 변경에는 닫혀 있어야 함

의존 관계 변경 시 클라이언트 코드가 수정되지 않음

새로운 기능을 확장해도 사용 영역의 수정은 닫혀 Io있음!

# IoC, DI, 컨테이너

### IoC : 제어의 역전

구현 객체는 로직을 실행하는 역할만 담당하고, 제어 흐름은 AppConfig가 가져감

프로그램의 흐름을 직접 제어하는 것이 아니라 외부에서 관리하는 것

프레임워크 : 내가 작성한 코드를 제어하고, 대신 실행 (ex. Junit)

라이브러리 : 내가 작성한 코드가 직접 제어의 흐름을 담당

### DI : 의존관계 주입

인터페이스에만 의존하도록 구현

실제 어떤 객체가 사용될지는 모름

의존 관계는 정적인 클래스 의존 관계, 동적인 객체 의존 관계

- 정적 의존 관계 : 의존 관계를 import를 통해서 알 수 있는 경우, 어플리케이션 실행 전에도 확인 가능
- 동적 의존 관계 : 의존 관계가 어플리케이션 실행 시점에 결정 **(의존관계 주입)**

![Untitled](S3%20%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%20%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%20%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%85%E1%85%B5%20%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%AD%E1%86%BC%2010ddad3ad9484f53917d75a9df255166/Untitled%2010.png)

### IoC 컨테이너, DI 컨테이너

의존 관계 역전을 일으키는 컨테이너를 IoC 컨테이너 또는 DI 컨테이너라고 부름

주로 DI 컨테이너라고 말함

![Untitled](S3%20%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%20%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%20%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%85%E1%85%B5%20%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%AD%E1%86%BC%2010ddad3ad9484f53917d75a9df255166/Untitled%2011.png)