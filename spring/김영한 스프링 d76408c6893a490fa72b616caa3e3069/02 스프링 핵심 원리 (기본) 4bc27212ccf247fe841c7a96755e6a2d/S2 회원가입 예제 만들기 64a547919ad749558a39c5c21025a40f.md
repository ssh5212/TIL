# S2 회원가입 예제 만들기

---

---

# 1. 프로젝트 요구사항

![Untitled](S2%20%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%80%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%8B%E1%85%A8%E1%84%8C%E1%85%A6%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%2064a547919ad749558a39c5c21025a40f/Untitled.png)

# 2. 회원 도메인 설계

![Untitled](S2%20%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%80%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%8B%E1%85%A8%E1%84%8C%E1%85%A6%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%2064a547919ad749558a39c5c21025a40f/Untitled%201.png)

아직 회원 저장소가 결정되지 않았으므로, 개발은 메모리 회원 저장소로 하되, 추후 DB 또는 외부 시스템으로 변경 가능하도록 인터페이스 형태로 구현한다.

![Untitled](S2%20%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%80%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%8B%E1%85%A8%E1%84%8C%E1%85%A6%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%2064a547919ad749558a39c5c21025a40f/Untitled%202.png)

![Untitled](S2%20%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%80%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%8B%E1%85%A8%E1%84%8C%E1%85%A6%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%2064a547919ad749558a39c5c21025a40f/Untitled%203.png)

도메인 협력 관계 : 기획자에게 알려주기 위한 그림

클래스 다이어그램 : 도메인 협력관계를 통해 구체화 (어떤 impl을 사용할지는 모름)

객체 다이어그램 : 클라이언트가 실제 사용하는 객체끼리의 참조를 보여줌 (현재 구현할 방법 지정)

역할에 대해서만 그린 그림

![Untitled](S2%20%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%80%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%8B%E1%85%A8%E1%84%8C%E1%85%A6%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%2064a547919ad749558a39c5c21025a40f/Untitled%204.png)

역할과 구현을 모두 그림

![Untitled](S2%20%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%80%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%8B%E1%85%A8%E1%84%8C%E1%85%A6%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%2064a547919ad749558a39c5c21025a40f/Untitled%205.png)

클래스 다이어그램

![Untitled](S2%20%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%80%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%8B%E1%85%A8%E1%84%8C%E1%85%A6%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%2064a547919ad749558a39c5c21025a40f/Untitled%206.png)

객체 다이어그램

![Untitled](S2%20%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%80%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%8B%E1%85%A8%E1%84%8C%E1%85%A6%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%2064a547919ad749558a39c5c21025a40f/Untitled%207.png)

구현 서비스 구현체 자체는 저장소나 할인 정책이 바뀌더라도 그대로 사용이 가능하다

enum : 열거를 위해서 사용함

enum은 == 을 사용한다.

![Untitled](S2%20%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%80%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%8B%E1%85%A8%E1%84%8C%E1%85%A6%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%2064a547919ad749558a39c5c21025a40f/Untitled%208.png)

구체 클래스를 의존하므로 DIP 위반임

DIP : 구체 클래스가 아닌 추상 클래스를 의존하라

![Untitled](S2%20%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%80%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%8B%E1%85%A8%E1%84%8C%E1%85%A6%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%2064a547919ad749558a39c5c21025a40f/Untitled%209.png)

Fix를 Rate로 바꾸기 위해서는 코드를 바꿔야 하므로 OCP가 위반됨

OCP : 변경 없이 확장

```java
private DiscountPolicy discountPolicy;
```

![Untitled](S2%20%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%80%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%8B%E1%85%A8%E1%84%8C%E1%85%A6%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%2064a547919ad749558a39c5c21025a40f/Untitled%2010.png)